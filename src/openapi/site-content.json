{
  "tags": [
    {
      "name": "Site Content",
      "description": "Gestión de banners, carruseles y documentos legales"
    }
  ],
  "paths": {
    "/api/site-content/public": {
      "get": {
        "tags": ["Site Content"],
        "summary": "Obtener contenido público",
        "responses": {
          "200": {
            "description": "Contenido para componer la landing",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {"type": "boolean"},
                    "message": {"type": "string"},
                    "data": {
                      "type": "object",
                      "properties": {
                        "modal": {"$ref": "#/components/schemas/PromoModal"},
                        "modalsByKind": {
                          "type": "object",
                          "properties": {
                            "promo": {"$ref": "#/components/schemas/PromoModal"},
                            "info": {"$ref": "#/components/schemas/PromoModal"},
                            "cookies": {"$ref": "#/components/schemas/PromoModal"},
                            "alert": {"$ref": "#/components/schemas/PromoModal"}
                          },
                          "additionalProperties": {"$ref": "#/components/schemas/PromoModal"}
                        },
                        "announcement": {"$ref": "#/components/schemas/AnnouncementBar"},
                        "carousel": {
                          "type": "array",
                          "items": {"$ref": "#/components/schemas/CarouselSlide"}
                        },
                        "company": {"$ref": "#/components/schemas/CompanyProfile"},
                        "legal": {
                          "type": "object",
                          "additionalProperties": {"$ref": "#/components/schemas/LegalDocument"}
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/site-content/modal": {
      "get": {
        "tags": ["Site Content"],
        "summary": "Modal activo",
        "responses": {
          "200": {
            "description": "Modal vigente",
            "content": {
              "application/json": {
                "schema": {"$ref": "#/components/schemas/PromoModalResponse"}
              }
            }
          },
          "204": {"description": "Sin modal activo"}
        }
      },
      "post": {
        "tags": ["Site Content"],
        "summary": "Crear modal",
        "security": [{"basicAuth": [], "accessCookie": []}],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {"$ref": "#/components/schemas/PromoModalCreateRequest"}
            }
          }
        },
        "responses": {
          "201": {
            "description": "Modal creado",
            "content": {
              "application/json": {
                "schema": {"$ref": "#/components/schemas/PromoModalResponse"}
              }
            }
          }
        }
      }
    },
    "/api/site-content/modal/{id}": {
      "patch": {
        "tags": ["Site Content"],
        "summary": "Actualizar modal",
        "security": [{"basicAuth": [], "accessCookie": []}],
        "parameters": [
          {"name": "id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid"}}
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {"$ref": "#/components/schemas/PromoModalUpdateRequest"}
            }
          }
        },
        "responses": {
          "200": {"description": "Modal actualizado", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/PromoModalResponse"}}}},
          "404": {"description": "No encontrado"}
        }
      },
      "delete": {
        "tags": ["Site Content"],
        "summary": "Eliminar modal",
        "security": [{"basicAuth": [], "accessCookie": []}],
        "parameters": [
          {"name": "id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid"}}
        ],
        "responses": {
          "200": {"description": "Eliminado", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ApiResponseMessage"}}}},
          "404": {"description": "No encontrado"}
        }
      }
    },
    "/api/site-content/modals": {
      "get": {
        "tags": ["Site Content"],
        "summary": "Listado de modales",
        "security": [{"basicAuth": [], "accessCookie": []}],
        "responses": {
          "200": {
            "description": "Array de modales",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {"type": "boolean"},
                    "message": {"type": "string"},
                    "data": {
                      "type": "array",
                      "items": {"$ref": "#/components/schemas/PromoModal"}
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/site-content/announcement": {
      "get": {
        "tags": ["Site Content"],
        "summary": "Anuncio activo",
        "responses": {
          "200": {
            "description": "Anuncio",
            "content": {
              "application/json": {
                "schema": {"$ref": "#/components/schemas/AnnouncementResponse"}
              }
            }
          },
          "204": {"description": "Sin anuncio"}
        }
      },
      "post": {
        "tags": ["Site Content"],
        "summary": "Crear anuncio",
        "security": [{"basicAuth": [], "accessCookie": []}],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {"$ref": "#/components/schemas/AnnouncementRequest"}
            }
          }
        },
        "responses": {
          "201": {"description": "Creado", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/AnnouncementResponse"}}}}
        }
      }
    },
    "/api/site-content/announcement/{id}": {
      "patch": {
        "tags": ["Site Content"],
        "summary": "Actualizar anuncio",
        "security": [{"basicAuth": [], "accessCookie": []}],
        "parameters": [
          {"name": "id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid"}}
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {"$ref": "#/components/schemas/AnnouncementRequest"}
            }
          }
        },
        "responses": {
          "200": {"description": "Actualizado", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/AnnouncementResponse"}}}},
          "404": {"description": "No encontrado"}
        }
      },
      "delete": {
        "tags": ["Site Content"],
        "summary": "Eliminar anuncio",
        "security": [{"basicAuth": [], "accessCookie": []}],
        "parameters": [
          {"name": "id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid"}}
        ],
        "responses": {
          "200": {"description": "Eliminado", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ApiResponseMessage"}}}},
          "404": {"description": "No encontrado"}
        }
      }
    },
    "/api/site-content/announcements": {
      "get": {
        "tags": ["Site Content"],
        "summary": "Listar anuncios",
        "security": [{"basicAuth": [], "accessCookie": []}],
        "responses": {
          "200": {
            "description": "Anuncios",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {"type": "boolean"},
                    "message": {"type": "string"},
                    "data": {
                      "type": "array",
                      "items": {"$ref": "#/components/schemas/AnnouncementBar"}
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/site-content/carousel": {
      "get": {
        "tags": ["Site Content"],
        "summary": "Slides activos",
        "responses": {
          "200": {
            "description": "Slides",
            "content": {
              "application/json": {
                "schema": {"$ref": "#/components/schemas/CarouselListResponse"}
              }
            }
          }
        }
      },
      "post": {
        "tags": ["Site Content"],
        "summary": "Crear slide",
        "security": [{"basicAuth": [], "accessCookie": []}],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {"$ref": "#/components/schemas/CarouselSlideRequest"}
            }
          }
        },
        "responses": {
          "201": {"description": "Slide creado", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/CarouselSlideResponse"}}}}
        }
      }
    },
    "/api/site-content/carousel/{id}": {
      "patch": {
        "tags": ["Site Content"],
        "summary": "Actualizar slide",
        "security": [{"basicAuth": [], "accessCookie": []}],
        "parameters": [
          {"name": "id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid"}}
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {"$ref": "#/components/schemas/CarouselSlideRequest"}
            }
          }
        },
        "responses": {
          "200": {"description": "Actualizado", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/CarouselSlideResponse"}}}},
          "404": {"description": "No encontrado"}
        }
      },
      "delete": {
        "tags": ["Site Content"],
        "summary": "Eliminar slide",
        "security": [{"basicAuth": [], "accessCookie": []}],
        "parameters": [
          {"name": "id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid"}}
        ],
        "responses": {
          "200": {"description": "Eliminado", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ApiResponseMessage"}}}},
          "404": {"description": "No encontrado"}
        }
      }
    },
    "/api/site-content/carousel/all": {
      "get": {
        "tags": ["Site Content"],
        "summary": "Listado completo de slides",
        "security": [{"basicAuth": [], "accessCookie": []}],
        "responses": {
          "200": {
            "description": "Slides",
            "content": {
              "application/json": {
                "schema": {"$ref": "#/components/schemas/CarouselListResponse"}
              }
            }
          }
        }
      }
    },
    "/api/site-content/company": {
      "get": {
        "tags": ["Site Content"],
        "summary": "Información de la empresa",
        "responses": {
          "200": {"description": "Perfil", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/CompanyProfileResponse"}}}}
        }
      },
      "put": {
        "tags": ["Site Content"],
        "summary": "Actualizar perfil",
        "security": [{"basicAuth": [], "accessCookie": []}],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {"schema": {"$ref": "#/components/schemas/CompanyProfileRequest"}}
          }
        },
        "responses": {
          "200": {"description": "Actualizado", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/CompanyProfileResponse"}}}}
        }
      }
    },
    "/api/site-content/company/admin": {
      "get": {
        "tags": ["Site Content"],
        "summary": "Perfil para panel",
        "security": [{"basicAuth": [], "accessCookie": []}],
        "responses": {
          "200": {"description": "Perfil", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/CompanyProfileResponse"}}}}
        }
      }
    },
    "/api/site-content/legal": {
      "get": {
        "tags": ["Site Content"],
        "summary": "Listar documentos",
        "security": [{"basicAuth": [], "accessCookie": []}],
        "responses": {
          "200": {
            "description": "Documentos",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {"type": "boolean"},
                    "message": {"type": "string"},
                    "data": {
                      "type": "array",
                      "items": {"$ref": "#/components/schemas/LegalDocument"}
                    }
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": ["Site Content"],
        "summary": "Crear documento",
        "security": [{"basicAuth": [], "accessCookie": []}],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {"schema": {"$ref": "#/components/schemas/LegalDocumentRequest"}}
          }
        },
        "responses": {
          "201": {"description": "Documento creado", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/LegalDocumentResponse"}}}}
        }
      }
    },
    "/api/site-content/legal/{id}": {
      "patch": {
        "tags": ["Site Content"],
        "summary": "Actualizar documento",
        "security": [{"basicAuth": [], "accessCookie": []}],
        "parameters": [
          {"name": "id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid"}}
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {"schema": {"$ref": "#/components/schemas/LegalDocumentRequest"}}
          }
        },
        "responses": {
          "200": {"description": "Actualizado", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/LegalDocumentResponse"}}}},
          "404": {"description": "No encontrado"}
        }
      },
      "delete": {
        "tags": ["Site Content"],
        "summary": "Eliminar documento",
        "security": [{"basicAuth": [], "accessCookie": []}],
        "parameters": [
          {"name": "id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid"}}
        ],
        "responses": {
          "200": {"description": "Eliminado", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ApiResponseMessage"}}}},
          "404": {"description": "No encontrado"}
        }
      }
    },
    "/api/site-content/legal/{type}": {
      "get": {
        "tags": ["Site Content"],
        "summary": "Documento público por tipo",
        "parameters": [
          {"name": "type", "in": "path", "required": true, "schema": {"type": "string", "enum": ["terms", "privacy", "cookies", "returns", "shipping", "custom"]}}
        ],
        "responses": {
          "200": {"description": "Documento", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/LegalDocumentResponse"}}}},
          "404": {"description": "No encontrado"}
        }
      }
    }
  },
  "components": {
    "schemas": {
      "PromoModal": {
        "type": "object",
        "properties": {
          "id": {"type": "string", "format": "uuid"},
          "title": {"type": "string", "nullable": true},
          "description": {"type": "string", "nullable": true},
          "imageUrl": {"type": "string"},
          "altText": {"type": "string", "nullable": true},
          "targetUrl": {"type": "string", "nullable": true},
          "kind": {"type": "string", "enum": ["promo", "info", "cookies", "alert"]},
          "isActive": {"type": "boolean"},
          "priority": {"type": "integer"},
          "startsAt": {"type": "string", "format": "date-time", "nullable": true},
          "endsAt": {"type": "string", "format": "date-time", "nullable": true},
          "createdAt": {"type": "string", "format": "date-time"},
          "updatedAt": {"type": "string", "format": "date-time"}
        }
      },
      "PromoModalCreateRequest": {
        "type": "object",
        "required": ["imageUrl"],
        "properties": {
          "title": {"type": "string"},
          "description": {"type": "string"},
          "imageUrl": {"type": "string", "format": "uri"},
          "altText": {"type": "string"},
          "targetUrl": {"type": "string", "format": "uri"},
          "kind": {"type": "string", "enum": ["promo", "info", "cookies", "alert"]},
          "isActive": {"type": "boolean"},
          "startsAt": {"type": "string", "format": "date-time"},
          "endsAt": {"type": "string", "format": "date-time"},
          "priority": {"type": "integer", "minimum": 0, "maximum": 100}
        }
      },
      "PromoModalUpdateRequest": {
        "allOf": [
          {"$ref": "#/components/schemas/PromoModalCreateRequest"}
        ]
      },
      "PromoModalResponse": {
        "type": "object",
        "properties": {
          "success": {"type": "boolean"},
          "message": {"type": "string"},
          "data": {"$ref": "#/components/schemas/PromoModal"}
        }
      },
      "AnnouncementBar": {
        "type": "object",
        "properties": {
          "id": {"type": "string", "format": "uuid"},
          "message": {"type": "string"},
          "targetUrl": {"type": "string", "nullable": true},
          "backgroundColor": {"type": "string", "nullable": true},
          "textColor": {"type": "string", "nullable": true},
          "isActive": {"type": "boolean"},
          "startsAt": {"type": "string", "format": "date-time", "nullable": true},
          "endsAt": {"type": "string", "format": "date-time", "nullable": true},
          "createdAt": {"type": "string", "format": "date-time"},
          "updatedAt": {"type": "string", "format": "date-time"}
        }
      },
      "AnnouncementRequest": {
        "type": "object",
        "required": ["message"],
        "properties": {
          "message": {"type": "string"},
          "targetUrl": {"type": "string", "format": "uri"},
          "backgroundColor": {"type": "string"},
          "textColor": {"type": "string"},
          "isActive": {"type": "boolean"},
          "startsAt": {"type": "string", "format": "date-time"},
          "endsAt": {"type": "string", "format": "date-time"}
        }
      },
      "AnnouncementResponse": {
        "type": "object",
        "properties": {
          "success": {"type": "boolean"},
          "message": {"type": "string"},
          "data": {"$ref": "#/components/schemas/AnnouncementBar"}
        }
      },
      "CarouselSlide": {
        "type": "object",
        "properties": {
          "id": {"type": "string", "format": "uuid"},
          "title": {"type": "string", "nullable": true},
          "subtitle": {"type": "string", "nullable": true},
          "imageUrl": {"type": "string"},
          "altText": {"type": "string", "nullable": true},
          "targetUrl": {"type": "string", "nullable": true},
          "order": {"type": "integer"},
          "isActive": {"type": "boolean"},
          "startsAt": {"type": "string", "format": "date-time", "nullable": true},
          "endsAt": {"type": "string", "format": "date-time", "nullable": true}
        }
      },
      "CarouselSlideRequest": {
        "type": "object",
        "required": ["imageUrl"],
        "properties": {
          "title": {"type": "string"},
          "subtitle": {"type": "string"},
          "imageUrl": {"type": "string", "format": "uri"},
          "altText": {"type": "string"},
          "targetUrl": {"type": "string", "format": "uri"},
          "order": {"type": "integer"},
          "isActive": {"type": "boolean"},
          "startsAt": {"type": "string", "format": "date-time"},
          "endsAt": {"type": "string", "format": "date-time"}
        }
      },
      "CarouselSlideResponse": {
        "type": "object",
        "properties": {
          "success": {"type": "boolean"},
          "message": {"type": "string"},
          "data": {"$ref": "#/components/schemas/CarouselSlide"}
        }
      },
      "CarouselListResponse": {
        "type": "object",
        "properties": {
          "success": {"type": "boolean"},
          "message": {"type": "string"},
          "data": {
            "type": "array",
            "items": {"$ref": "#/components/schemas/CarouselSlide"}
          }
        }
      },
      "CompanyProfile": {
        "type": "object",
        "properties": {
          "id": {"type": "string", "format": "uuid"},
          "name": {"type": "string"},
          "tagline": {"type": "string", "nullable": true},
          "about": {"type": "string", "nullable": true},
          "mission": {"type": "string", "nullable": true},
          "vision": {"type": "string", "nullable": true},
          "values": {
            "type": "array",
            "items": {"type": "string"},
            "nullable": true
          },
          "email": {"type": "string", "nullable": true},
          "phone": {"type": "string", "nullable": true},
          "whatsapp": {"type": "string", "nullable": true},
          "address": {"type": "object", "nullable": true},
          "mapUrl": {"type": "string", "nullable": true},
          "logoUrl": {"type": "string", "nullable": true},
          "supportHours": {"type": "string", "nullable": true},
          "socialLinks": {"type": "object", "nullable": true}
        }
      },
      "CompanyProfileRequest": {
        "type": "object",
        "required": ["name"],
        "properties": {
          "id": {"type": "string", "format": "uuid"},
          "name": {"type": "string"},
          "tagline": {"type": "string"},
          "about": {"type": "string"},
          "mission": {"type": "string"},
          "vision": {"type": "string"},
          "values": {"type": "array", "items": {"type": "string"}},
          "email": {"type": "string", "format": "email"},
          "phone": {"type": "string"},
          "whatsapp": {"type": "string"},
          "address": {"type": "object"},
          "mapUrl": {"type": "string", "format": "uri"},
          "logoUrl": {"type": "string", "format": "uri"},
          "supportHours": {"type": "string"},
          "socialLinks": {"type": "object"}
        }
      },
      "CompanyProfileResponse": {
        "type": "object",
        "properties": {
          "success": {"type": "boolean"},
          "message": {"type": "string"},
          "data": {"$ref": "#/components/schemas/CompanyProfile"}
        }
      },
      "LegalDocument": {
        "type": "object",
        "properties": {
          "id": {"type": "string", "format": "uuid"},
          "type": {"type": "string", "enum": ["terms", "privacy", "cookies", "returns", "shipping", "custom"]},
          "title": {"type": "string"},
          "content": {"type": "string"},
          "version": {"type": "string", "nullable": true},
          "isActive": {"type": "boolean"},
          "publishedAt": {"type": "string", "format": "date-time", "nullable": true},
          "createdAt": {"type": "string", "format": "date-time"},
          "updatedAt": {"type": "string", "format": "date-time"}
        }
      },
      "LegalDocumentRequest": {
        "type": "object",
        "required": ["type", "title", "content"],
        "properties": {
          "type": {"type": "string", "enum": ["terms", "privacy", "cookies", "returns", "shipping", "custom"]},
          "title": {"type": "string"},
          "content": {"type": "string"},
          "version": {"type": "string"},
          "isActive": {"type": "boolean"},
          "publishedAt": {"type": "string", "format": "date-time"}
        }
      },
      "LegalDocumentResponse": {
        "type": "object",
        "properties": {
          "success": {"type": "boolean"},
          "message": {"type": "string"},
          "data": {"$ref": "#/components/schemas/LegalDocument"}
        }
      }
    }
  }
}
